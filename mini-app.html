<!DOCTYPE html>
<html>
<head>
    <title>Поиск квартиры</title>
    <style>
        body {
            font-family: sans-serif;
            text-align: center;
        }
        select, input, button {
            margin: 10px;
            padding: 8px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <h1>Поиск квартиры</h1>
    <label for="city">Город:</label>
    <select id="city">
        <option value="Москва">Москва</option>
        <option value="Екатеринбург">Екатеринбург</option>
        <option value="Санкт-Петербург">Санкт-Петербург</option>
    </select><br>
    <label for="rent">Сумма аренды:</label>
    <input type="number" id="rent"><br>
    <button id="search">Показать квартиры</button>
    <div id="results"></div>

    <script>
        const searchButton = document.getElementById('search');
        const resultsDiv = document.getElementById('results');

        searchButton.addEventListener('click', () => {
            const city = document.getElementById('city').value;
            const rent = parseInt(document.getElementById('rent').value);

            // Замените YOUR_GOOGLE_SHEET_URL на ссылку на вашу таблицу
            const sheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRzFm-I4hL8tKOSXOsW-yeg4N2-WJfA9aLBXfxf4pF6pvGQFPbnj1fTztVWTQVkS9q-seBCXLMx07Z9/pub?output=tsv';

            fetch(sheetUrl)
                .then(response => response.text())
                .then(data => {
                    const rows = data.split('\n');
                    let results = '';
                    for (let i = 1; i < rows.length; i++) {
                        const row = rows[i].split('\t');
                        if (row[0] === city && parseInt(row[1]) >= rent) {
                            results += `<a href="${row[2]}">Квартира ${i}</a><br>`;
                        }
                    }
                    resultsDiv.innerHTML = results || 'Квартиры не найдены';
                });
        });
    </script>
</body>
</html>
